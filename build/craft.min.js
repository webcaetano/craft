!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Phaser"),require("_")):"function"==typeof define&&define.amd?define(["Phaser","_"],t):"object"==typeof exports?exports.$craft=t(require("Phaser"),require("_")):e.$craft=t(e.Phaser,e._)}(this,function(e,t){return function(e){function t(r){if(i[r])return i[r].exports;var o=i[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";var r=(i(1),i(2)),o=(i(3),i(4));console.log("%c Craft v"+o+" ","background: #002874; color: #ffffff"),e.exports=function(e){var t={};return r.game=e,_.reduce([{name:"$sprite",method:i(5),aliases:["$s"]},{name:"$tileSprite",method:i(19)},{name:"$text",method:i(20),aliases:["$t"]},{name:"$circle",method:i(21),aliases:["$t"]},{name:"$graphic",method:i(22),aliases:["$t"]},{name:"$dot",method:i(23),aliases:["$d"]},{name:"$rect",method:i(24),aliases:["$box"]},{name:"$group",method:i(25),aliases:["$g"]},{name:"$shape",method:i(26)},{name:"$stroke",method:i(27)}],function(e,t,i){var r=e[t.name]=t.method;return t.aliases&&_.each(t.aliases,function(t){e[t]=r}),e},t)}},function(e,t){"use strict";e.exports={sprite:{$set:!0,$tint:!0,$into:!0,$mid:!0,$scale:!0,$atlasImg:!0,$atlasAnims:!0,$fixPos:!0,$copyPos:!0,$align:!0},graphic:{$set:!0,$tint:!0,$into:!0,$scale:!0,$mid:!0,$fixPos:!0,$copyPos:!0,$align:!0},text:{$set:!0,$tint:!0,$into:!0,$scale:!0,$fixPos:!0,$copyPos:!0,$align:!0},group:{$set:!0,$into:!0,$fixPos:!0,$scale:!0,$add:!0,$copyPos:!0,$align:!0}}},function(e,t){"use strict";e.exports={}},function(t,i){t.exports=e},function(e,t){"use strict";e.exports="1.5.2"},function(e,t,i){"use strict";var r=i(6),o=i(7),s=(i(3),i(2)),n=s.game;e.exports=function(e,t){"string"==typeof t&&(t={frame:t});var i={x:0,y:0,frame:void 0,group:void 0};t=r.extend({},i,t);var s=n.add.sprite(t.x,t.y,e,t.frame,t.group);return o(s,"sprite"),s}},function(e,t,i){"use strict";var r={},o=i(3),s=i(2),n=s.game;r.colorCase=function(e){return e.indexOf("#")!=-1?"0x"+e.replace(/#/g,""):e},r.extend=o.Utils.extend.bind(null,!0),r.colorShapeBmd=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],r=n.make.sprite(0,0,e,i),s=o.Color.hexToColor(t),a=n.make.bitmapData(r.width,r.height);a.fill(s.r,s.g,s.b);var c=a;return c.blendDestinationAtop(),c.draw(r,0,0,r.texture.crop.width,r.texture.crop.height),r.pendingDestroy=!0,c},e.exports=r},function(e,t,i){"use strict";var r=(i(6),i(8)),o=i(1),s={$set:i(10),$scale:i(11),$tint:i(12),$into:i(13),$mid:i(14),$copyPos:i(15),$fixPos:i(16),$add:i(17),$align:i(18)};e.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?"sprite":arguments[1];r.each(o[t],function(t,i){t&&s[i]&&(e[i]=s[i])})}},function(e,t,i){"use strict";var r,r=i(9);e.exports=r},function(e,i){e.exports=t},function(e,t){"use strict";e.exports=function(e,t){if("string"==typeof e&&t)this[e]=t;else for(var i in e)if(i.indexOf(".")==-1)this[i]=e[i];else{for(var r=i.split("."),o=this,s=0;s<r.length-1;s++)o=o[r[s]];o[r[r.length-1]]=e[i]}return this}},function(e,t){"use strict";e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(!this.scale)return this;this.scale.set?this.scale.set:this.scale.setTo;return null!==e&&null!==t?this.scale.setTo(e,t):null!==e&&this.scale.setTo(e),this}},function(e,t,i){"use strict";var r=i(6);e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?"ffffff":arguments[0];return this.tint=r.colorCase(e),this}},function(e,t){"use strict";e.exports=function(e){return e.add(this),this}},function(e,t){"use strict";e.exports=function(){return this.anchor.setTo(.5),this}},function(e,t){"use strict";e.exports=function(e){return this.x=e.x,this.y=e.y,this}},function(e,t){"use strict";e.exports=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},function(e,t,i){"use strict";var r=i(8);e.exports=function(e){var t=this;return r.isArray(e)||(e=[e]),r.each(e,function(e){t.add(e)}),this}},function(e,t,i){"use strict";i(6);e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return e&&("left"==e?this.x=0:"center"==e?this.x=~~(.5*this.game.width)-(this.anchor&&0!=this.anchor.x?0:.5*this.width):"right"==e&&(this.x=this.game.width-this.width)),t&&("top"==e?this.y=0:"center"==e?this.y=~~(.5*this.game.height)-(this.anchor&&0!=this.anchor.y?0:.5*this.height):"bot"==e&&(this.y=this.game.width-this.height)),this}},function(e,t,i){"use strict";var r=i(6),o=i(7),s=(i(3),i(2)),n=s.game;e.exports=function(e,t,i,s){"string"==typeof t&&(t={frame:t});var a={x:0,y:0,frame:void 0,group:void 0};t=r.extend({},a,t);var c=n.add.tileSprite(t.x,t.y,i,s,e,t.frame);return o(c,"sprite"),c}},function(e,t,i){"use strict";var r=i(6),o=i(7),s=(i(3),i(2)),n=s.game;e.exports=function(e,t){"string"==typeof t&&(t={frame:t});var i={x:0,y:0,bold:!1,size:15,font:"'Helvetica Neue', Helvetica, Arial, sans-serif",stroke:{size:0,color:"#000000"},align:"center",color:"#000000"};t=r.extend({},i,t);var s=n.add.text(0,0,e,{font:[t.bold?"bold":"",t.size+"px",t.font].join(" "),align:t.align,fill:t.color,stroke:t.stroke.color,strokeThickness:t.stroke.size});return o(s,"text"),s}},function(e,t,i){"use strict";var r=i(6),o=i(7),s=(i(3),i(2)),n=s.game;e.exports=function(e){"number"==typeof e&&(e={size:e});var t={x:0,y:0,group:void 0,fill:"#ff0000",size:10,alpha:1,stroke:{size:0,color:"#000",alpha:1}};e=r.extend({},t,e);var i=n.add.graphics(e.x,e.y,e.group);return o(i,"graphic"),e.fill&&i.beginFill(r.colorCase(e.fill),e.alpha),e.stroke.size>0&&i.lineStyle(e.stroke.size,r.colorCase(e.stroke.color),e.stroke.alpha),i.drawCircle(0,0,e.size)}},function(e,t,i){"use strict";var r=i(6),o=i(7),s=(i(3),i(2)),n=s.game;e.exports=function(e){var t={x:0,y:0,group:void 0};e=r.extend({},t,e);var i=n.add.graphics(e.x,e.y,e.group);return o(i,"graphic"),i}},function(e,t,i){"use strict";var r=i(6),o=(i(7),i(3),i(2)),s=(o.game,i(21));e.exports=function(e,t,i){void 0===e&&(e=5),void 0===t&&(t="#ff0000");var o={fill:t,size:e};return i=r.extend({},o,i),s(i)}},function(e,t,i){"use strict";var r=i(6),o=i(7),s=(i(3),i(2)),n=s.game;e.exports=function(e){"number"==typeof e&&(e={size:e});var t={x:0,y:0,group:void 0,fill:"#ff0000",width:100,height:100,size:0,alpha:1,round:0,stroke:{size:0,color:"#000000",alpha:1}};e=r.extend({},t,e);var i=n.add.graphics(e.x,e.y,e.group);return e.size&&(e.height=e.width=e.size),o(i,"graphic"),e.fill&&i.beginFill(r.colorCase(e.fill),e.alpha),e.stroke.size>0&&i.lineStyle(e.stroke.size,r.colorCase(e.stroke.color),e.stroke.alpha),0===e.round?i.drawRect(0,0,e.width,e.height):i.drawRoundedRect(0,0,e.width,e.height,e.round)}},function(e,t,i){"use strict";var r=i(6),o=i(7),s=(i(3),i(2)),n=s.game;e.exports=function(e){var t={parent:void 0,name:void 0,addToStage:void 0,enableBody:void 0,physicsBodyType:void 0};e=r.extend({},e,t);var i=n.add.group(e.parent,e.name,e.addToStage,e.enableBody,e.physicsBodyType);return o(i,"group"),i}},function(e,t,i){"use strict";var r=i(6),o=i(8),s=(i(7),i(3),i(2)),n=s.game,a=i(5);e.exports=function(e,t,i){if(void 0===t&&(t=void 0),"object"==typeof t){var s=i;i=t?t:{},t=s}var c={frame:t,x:0,y:0,group:void 0,cache:!0,color:"#FF0000"};i=r.extend({},c,i);var u=o.compact(["$fill",e,i.frame]).join("_");if(i.cache&&!n.cache.checkImageKey(u)){var h=r.colorShapeBmd(e,i.color,i.frame);h.generateTexture(u),h.pendingDestroy=!0}else i.cache||(u=colorShapeBmd(e,i.color,i.frame));return a(u,o.omit(i,["cache","frame"]))}},function(e,t,i){"use strict";var r=i(6),o=(i(8),i(7),i(3),i(2)),s=o.game,n=i(5),a=function(e,t){var i=s.make.sprite(0,0,e,t.frame),o=t.size,n=t.pixel,a=s.make.bitmapData(i.width+2*o,i.height+2*o),c=r.colorShapeBmd(e,t.color,t.frame);return _.times(2*o*(1/n)+1,function(e){_.times(2*o*(1/n)+1,function(t){a.draw(c,e*n,t*n)})}),t.inside&&a.draw(i,o,o,i.texture.crop.width,i.texture.crop.height),i.pendingDestroy=!0,a};e.exports=function(e,t,i){if(void 0===t&&(t=void 0),"object"==typeof t){var o=i;i=t?t:{},t=o}var c={frame:t,x:0,y:0,group:void 0,cache:!0,size:1,pixel:1,inside:!0,color:"#FF0000"};i=r.extend({},c,i);var u=_.compact(["$stoke",e,i.frame]).join("_");if(i.cache&&!s.cache.checkImageKey(u)){var h=a(e,i);h.generateTexture(u),h.pendingDestroy=!0}else i.cache||(u=a(i));return n(u,_.omit(i,["cache","color","pixel","inside","frame","size"]))}}])});